From 913667571f4c1810e0d20a999440bda612448ee6 Mon Sep 17 00:00:00 2001
From: matteo <duanmt@artinchip.com>
Date: Wed, 9 Jul 2025 10:10:44 +0800
Subject: [PATCH] media-ctl: Export mediactl lib for test-vin

Signed-off-by: matteo <duanmt@artinchip.com>
---
 utils/media-ctl/meson.build | 14 ++++++++++++++
 1 file changed, 14 insertions(+)

diff --git a/utils/media-ctl/meson.build b/utils/media-ctl/meson.build
index 3a7b0c9..06cacf1 100644
--- a/utils/media-ctl/meson.build
+++ b/utils/media-ctl/meson.build
@@ -3,6 +3,10 @@ libmediactl_sources = files(
     'mediactl-priv.h',
 )
 
+libmediactl_api = files(
+    'mediactl.h',
+)
+
 libmediactl_deps = [
     dep_libudev,
 ]
@@ -10,18 +14,28 @@ libmediactl_deps = [
 libmediactl = static_library('mediactl',
                              libmediactl_sources,
                              dependencies : libmediactl_deps,
+                             install : true,
                              include_directories : v4l2_utils_incdir)
 
+install_headers(libmediactl_api)
+
 dep_libmediactl = declare_dependency(link_with : libmediactl)
 
 libv4l2subdev_sources = files('libv4l2subdev.c')
 libv4l2subdev_sources += media_bus_format_names_h
 libv4l2subdev_sources += media_bus_format_codes_h
 
+libv4l2subdev_api = files(
+    'v4l2subdev.h',
+)
+
 libv4l2subdev = static_library('v4l2subdev',
                                libv4l2subdev_sources,
+                               install : true,
                                include_directories : v4l2_utils_incdir)
 
+install_headers(libv4l2subdev_api)
+
 dep_libv4l2subdev = declare_dependency(link_with : libv4l2subdev)
 
 media_ctl_sources = files(
-- 
2.25.1

